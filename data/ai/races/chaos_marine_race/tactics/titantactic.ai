----------------------------------------
-- File: 'titantactic.ai'
-- Edited by Cylarne @ 2012
-- Edited by Thudmeizer	@ 12.02.2016

class 'TitanTactic' (ChaosMarineVehicleTactic)

Titan = {}

function TitanTactic:__init( squad_ai ) super( squad_ai )

	self:SetName("Titan Tactic")
end

function TitanTactic:InitAbilities()

	if (Titan.stomp_id == nil) then
		Titan.stomp_id = cpu_manager.stats:GetAbilityID( "titan_stomp" )	
	end
	
	if (Titan.missiles_id == nil) then
		Titan.missiles_id = cpu_manager.stats:GetAbilityID( "marines_apocalypse_missiles" )	
	end
end

function TitanTactic:DoAbilities()

	-- Stomp them all!
	if (self.squad_ai:IsAttacking() and self.squad_ai:CanDoAbility(Titan.stomp_id)) then
		Ability.DoAbilityTarget(self.squad_ai, Titan.stomp_id, Ability.Filters.CloseSquadEnemy, 4)
	end

	-- Launch the crippling Apocalypse Missiles!
	Ability.DoAbilityPos(self.squad_ai, Titan.missiles_id, Ability.Filters.CloseEnemy, 24)
	Ability.DoAbilityPos(self.squad_ai, Titan.missiles_id, Ability.Filters.CloseVehicleEnemy, 3)
	Ability.DoAbilityPos(self.squad_ai, Titan.missiles_id, Ability.EntityFilters.CloseBaseEntityEnemy, 4)
end